<h2 mat-dialog-title>Insira um livro</h2>
<mat-dialog-content class="mat-typography">
    <!-- Form -->
    <form [formGroup]="formBook">
        <!--Linha form-->
        <div class="form-row">
            <div class="col-md-4">
                <div class="md-form">
                    <input mdbInput mdbValidate type="text" id="isbn" class="form-control"
                           formControlName="isbn">
                    <label for="isbn">ISBN</label>
                    <mdb-error *ngIf="formBook.get('isbn').hasError('required')">Input invalid</mdb-error>
                </div>
            </div>
            <div class="col-md">
                <div class="md-form">
                    <input mdbInput mdbValidate type="text" id="title" class="form-control"
                           formControlName="title">
                    <label for="title">Título</label>
                    <mdb-error *ngIf="formBook.get('title').hasError('required')">Input invalid</mdb-error>
                </div>
            </div>
        </div>
        <!-- Linha form -->
        <div class="form-row">
            <div class="col-md-3">
                <div class="md-form">
                    <input mdbInput mdbValidate type="text" id="country" class="form-control"
                           formControlName="country">
                    <label for="country">País</label>
                    <mdb-error *ngIf="formBook.get('country').hasError('required')">Input invalid
                    </mdb-error>
                </div>
            </div>
            <div class="col-md-3">
                <div class="md-form">
                    <input mdbInput mdbValidate type="text" id="language" class="form-control"
                           formControlName="language">
                    <label for="language">Linguagem</label>
                    <mdb-error *ngIf="formBook.get('language').hasError('required')">Input invalid
                    </mdb-error>
                </div>
            </div>
            <div class="col-md-3">
                <div class="md-form">
                    <input mdbInput mdbValidate type="text" id="pageCount" class="form-control"
                           formControlName="pageCount">
                    <label for="pageCount">Número de páginas</label>
                    <mdb-error *ngIf="formBook.get('pageCount').hasError('required')">Input invalid
                    </mdb-error>
                </div>
            </div>
            <div class="col-md-3">
                <div class="md-form">
                    <input mdbInput mdbValidate type="text" id="publishedDate" class="form-control"
                           formControlName="publishedDate" pattern="[0-9]+$">
                    <label for="publishedDate">Ano da puplicação</label>
                    <mdb-error *ngIf="formBook.get('publishedDate').hasError('required')">Input invalid
                    </mdb-error>
                </div>
            </div>
        </div>
        <!-- Linha form -->
        <div class="form-row">

            <div class="col-md-6">
                <div class="md-form">
                    <input mdbInput mdbValidate type="text" id="publisher" class="form-control"
                           formControlName="publisher">
                    <label for="publisher">Editora</label>
                    <mdb-error *ngIf="formBook.get('publisher').hasError('required')">Input invalid
                    </mdb-error>
                </div>
            </div>
        </div>
        <!--        linnha form-->
        <div class="form-row">
            <div class="col-md-6">
                <div class="md-form">
                    <input mdbInput mdbValidate type="text" id="averageRating" class="form-control"
                           formControlName="averageRating">
                    <label for="averageRating">Avaliação</label>
                    <mdb-error *ngIf="formBook.get('averageRating').hasError('required')">Input invalid
                    </mdb-error>
                </div>
            </div>
        </div>
        <!--        linha form -->
        <div class="form-row">
            <div class="col-md">
                <div class="md-form">
                    <h5>Autores: </h5>
                </div>
            </div>
            <div class="col-md">
                <div class="md-form">
                    <button type="button" class="btn btn-secondary btn-sm" (click)="this.addAuthors()">
                        Adicionar
                    </button>
                </div>
            </div>
        </div>
        <!--        linha form -->
        <div class="form-row" *ngFor="let item of authors.controls; let i = index;" [formGroup]="item">

            <mat-form-field class="col-md">
                <input type="text"
                       placeholder="Autor"
                       aria-label="nameAuthor"
                       formControlName="nameAuthor"
                       matInput
                       [matAutocomplete]="auto">
                <mat-autocomplete #auto="matAutocomplete">
                    <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                        {{option}}
                    </mat-option>
                </mat-autocomplete>
                <mat-error *ngIf="authors.controls[i].hasError('required')">
                    This field is required.
                </mat-error>
            </mat-form-field>

            <div class="col-md">
                <button type="button" class="btn btn-danger  btn-sm" (click)="this.removeAuthors(1)"><i
                        class="fas fa-times fa-2x"></i></button>
            </div>

            <!--            <div class="col-md">-->
            <!--                <div class="md-form">-->
            <!--                    <input mdbInput mdbValidate type="text" id="nameAuthor" class="form-control"-->
            <!--                           formControlName="nameAuthor">-->
            <!--                    <label for="nameAuthor">Autor</label>-->
            <!--                    <mdb-error *ngIf="authors.controls[i].hasError('required')">Input invalid</mdb-error>-->
            <!--                </div>-->
            <!--            </div>-->
        </div>

        <!--        linha form-->

    </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
    <button type="button" mdbBtn color="secondary" mdbWavesEffect
            [disabled]="formBook.invalid">
        Criar
    </button>
</mat-dialog-actions>
